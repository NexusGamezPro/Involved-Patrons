// Favor Tracker

new entry "INVOLVED_PATRON_FAVOR_TRACKER"
type "StatusData"
data "StatusType" "BOOST"
data "StackId" "PATRON_FAVOR"
data "StackType" "Overwrite"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator;FreezeDuration;ApplyToDead;IgnoreResting"
// data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;FreezeDuration;ApplyToDead;IgnoreResting"

new entry "INVOLVED_PATRON_FAVOR_TRACKER_WARNING"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h78cfb3605ba443e7940ca6db26ed9dc5fcc4;1"
data "Description" "h2353c2050c134ec8be9fafccde3ff29194a2;1"
data "StackId" "PATRON_FAVOR_WARNING"
data "StackType" "Ignore"
data "StatusGroups" "SG_RemoveOnRespec"
// data "StatusPropertyFlags" "ApplyToDead"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator;ApplyToDead"
data "OnApplyFunctors" "ApplyStatus(INVOLVED_PATRON_FAVOR_TRACKER_WARNING_APPLIED,100,-1)"

new entry "INVOLVED_PATRON_FAVOR_TRACKER_WARNING_APPLIED"
type "StatusData"
data "StatusType" "BOOST"
data "StackId" "PATRON_FAVOR_WARNING_APPLIED"
data "StackType" "Ignore"
data "StatusGroups" "SG_RemoveOnRespec"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator;IgnoreResting;ApplyToDead"
data "RemoveEvents" "OnStatusApplied"
data "RemoveConditions" "ConditionResult(GetStatusDuration('INVOLVED_PATRON_FAVOR_TRACKER',context.Target) == 5)"

// Spellslot Progression Tracking

new entry "UnlockedWarlockSpellSlotLevel4"
type "PassiveData"
using "UnlockedWarlockSpellSlotLevel1"
data "DisplayName" "he1235c3b0e86495da35988157b3081098605;1"

new entry "UnlockedWarlockSpellSlotLevel5"
type "PassiveData"
using "UnlockedWarlockSpellSlotLevel1"
data "DisplayName" "h490bc5f7766a4242abacba146b8fba29450f;1"

// Demands

    // Demand - Base

new entry "InvolvedBasePatronDemand"
type "PassiveData"
data "Properties" "IsHidden"

new entry "INVOLVED_BASE_PATRON_DEMAND"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "hea1b5aefb82a4f41a15a511cb5cd44665673;1"
data "Icon" "PassiveFeature_ExpertDivination"
data "StackId" "PATRON_DEMAND"
data "StackType" "Overwrite"
data "OnRemoveFunctors" "IF(Party()):ApplyStatus(INVOLVED_PATRON_FAVOR_TRACKER,100,Target.INVOLVED_PATRON_FAVOR_TRACKER.Duration-1)"
data "StatusGroups" "SG_RemoveOnRespec"
data "StatusPropertyFlags" "DisableOverhead"

// Demand Boons

    // Common Boon

// Demand Boons

    // Tier 1 - Common

new entry "INVOLVED_BASE_PATRON_BOON_SPELLSLOT"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "he51426a4913c48249c525e163812ad2d06c4;1"
data "Description" "hd025ce55af5941d7b4cda1e161c989066c0g;1"
data "Boosts" "IF(HasPassive('UnlockedWarlockSpellSlotLevel1', context.Source)):ActionResource(WarlockSpellSlot,1,1);IF(HasPassive('UnlockedWarlockSpellSlotLevel2', context.Source)):ActionResource(WarlockSpellSlot,1,2);IF(HasPassive('UnlockedWarlockSpellSlotLevel3', context.Source)):ActionResource(WarlockSpellSlot,1,3);IF(HasPassive('UnlockedWarlockSpellSlotLevel4', context.Source)):ActionResource(WarlockSpellSlot,1,4);IF(HasPassive('UnlockedWarlockSpellSlotLevel5', context.Source)):ActionResource(WarlockSpellSlot,1,5)"
data "StackId" "BOON_SPELLSLOT"
data "StackType" "Ignore"
data "RemoveEvents" "OnStatusApplied"
data "StatusPropertyFlags" "DisableOverhead;DisablePortraitIndicator"
data "StatusGroups" "SG_RemoveOnRespec"
data "SoundStart" "Spell_Passive_Impact_Damage_DarkOnesBlessing_L1to3"
data "ApplyEffect" "3a76f32b-1b84-4298-90c6-7e430cb9f98b"

    // Tier 2 - Rare

new entry "INVOLVED_BASE_PATRON_BOON_WEAPON_STATUS"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h031dd24cf14d49b58ce7fb99934881956d01;1"
data "Icon" "Spell_Transmutation_MagicWeapon"
data "StackId" "BOON_WEAPON"
data "StatusPropertyFlags" "RemoveOnLongRest;DisableOverhead"
data "StatusGroups" "SG_RemoveOnRespec"
data "StatusEffect" "359918c9-0c9a-4714-a032-0deac359d00b"

// Favor Boon and Penalty - Work in Progress

new entry "INVOLVED_BASE_PATRON_FAVOR_BOON"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "he8255fd40760458fa2d3a5a8db798f7931c5;1"
data "Description" "h0a9ccc3f804b4a068713752f54b391901c8a;1"
data "Icon" "PassiveFeature_ExpertDivination"
data "Boosts" "IF(HasPassive('UnlockedWarlockSpellSlotLevel1', context.Source)):ActionResource(WarlockSpellSlot,1,1);IF(HasPassive('UnlockedWarlockSpellSlotLevel2', context.Source)):ActionResource(WarlockSpellSlot,1,2);IF(HasPassive('UnlockedWarlockSpellSlotLevel3', context.Source)):ActionResource(WarlockSpellSlot,1,3);IF(HasPassive('UnlockedWarlockSpellSlotLevel4', context.Source)):ActionResource(WarlockSpellSlot,1,4);IF(HasPassive('UnlockedWarlockSpellSlotLevel5', context.Source)):ActionResource(WarlockSpellSlot,1,5)"
data "StatusGroups" "SG_RemoveOnRespec"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator;IgnoreResting;ApplyToDead"
data "RemoveEvents" "OnStatusApplied"
data "RemoveConditions" "ConditionResult(GetStatusDuration('INVOLVED_PATRON_FAVOR_TRACKER') == 14)"
data "StackId" "PATRON_FAVOR_BOON"
data "StackType" "Ignore"

new entry "INVOLVED_BASE_PATRON_FAVOR_PENALTY"
type "StatusData"
data "StatusType" "BOOST"
using "INVOLVED_BASE_PATRON_FAVOR_BOON"
data "DisplayName" "hff06e0a0dd354845a476ade3119ad6cc1gc7;1"
data "Description" "h720138ca9bba43afaf4fc04bbda5ef2e473d;1"
data "Boosts" ""
data "RemoveConditions" "ConditionResult(GetStatusDuration('INVOLVED_PATRON_FAVOR_TRACKER') == 2)"
data "StackId" "PATRON_FAVOR_PENALTY"